<div class="headline">Event erstellen</div>


<form [formGroup]="topFormGrp">

    <mat-card class="eventCard">

        <table>

            <tr>
                <td class="cellHeading">
                    <p class="headline1">Spiel:</p>
                </td>

                <td>
                    <ng-container class="formContainer">
                        <mat-form-field class="width-class">
                            <mat-label>Spiel</mat-label>
                            <mat-select formControlName="game">
                                <mat-option *ngFor="let elem of gamesArr" [value]="elem">{{elem.title}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </ng-container>
                </td>
            </tr>

            <tr>
                <td class="cellHeading">
                    <p class="headline1">Event-Name:</p>
                </td>

                <td>
                    <ng-container class="formContainer">
                        <mat-form-field class="width-class">
                            <mat-label>Event-Name</mat-label>
                            <input maxlength="64" #message type="text" matInput formControlName="eventName">
                            <mat-hint align="end">{{message.value.length}} / 64</mat-hint>
                        </mat-form-field>
                    </ng-container>
                </td>
            </tr>

            <tr>
                <td class="cellHeading">
                    <p class="headline1">Datum:</p>
                </td>

                <td>
                    <ng-container class="formContainer">
                        <mat-form-field class="width-class">
                            <mat-label>Datum</mat-label>
                            <input matInput [matDatepicker]="dp" formControlName="eventDate">
                            <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
                            <mat-datepicker #dp></mat-datepicker>
                        </mat-form-field>
                    </ng-container>
                </td>
            </tr>

            <tr>
                <td class="cellHeading">
                    <p class="headline1">Uhrzeit:</p>
                </td>

                <td>
                    <ng-container class="formContainer">
                        <mat-form-field class="width-class">
                            <mat-label>Uhrzeit</mat-label>
                            <input matTimepicker formControlName="eventTime">
                        </mat-form-field>
                    </ng-container>
                </td>
            </tr>

        
            <tr>
                <td class="cellHeading">
                    <p class="headline1">Sichtbarkeit / Gruppe:</p>
                </td>
                <td>
                    <ng-container class="formContainer">
                        <mat-form-field class="width-class">
                            <mat-label>Sichtbar für Gruppe</mat-label>
                            <mat-select formControlName="group">
                                <mat-option value="public"><b>Öffentliches Event</b></mat-option>
                                <mat-option *ngFor="let elem of userGroups" [value]="elem">{{elem.name}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </ng-container>
                </td>
            </tr>

            
            <tr>
                <td class="cellHeading">
                    <p class="headline1">Event-Art:</p>
                </td>
                <td>
                    <ng-container class="formContainer">
                        <mat-form-field class="width-class">
                            <mat-label>Event-Art</mat-label>
                            <mat-select formControlName="eventType">
                                <mat-option value="event1">Normal</mat-option>
                                <mat-option value="event2">Mit Teams</mat-option>
                                <mat-option value="event3">Mit Teams und Slots</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </ng-container>
                </td>
            </tr>

            
            <tr>
                <td class="cellHeading">
                    <p class="headline1">Beschreibung</p>
                </td>
                <td>
                    <ng-container>
                        <mat-form-field class="width-class">
                            <mat-label>Event-Beschreibung (optional)</mat-label>
                            <input maxlength="200" #message matInput type="text" formControlName="description">
                            <mat-hint align="end">{{message.value.length}} / 256</mat-hint>
                        </mat-form-field>
                    </ng-container>
                </td>
            </tr>

        </table>

    </mat-card>
</form>


<form [formGroup]="event1FormGrp">
    <mat-card class="row-flex"
        *ngIf="topFormGrp.get('eventType').value !== null && topFormGrp.get('eventType').value === 'event1'">

        <ng-container>
            <mat-form-field>
                <mat-label>Minimale Teilnehmer</mat-label>
                <input matInput type="number" min="4" formControlName="minPeople">
            </mat-form-field>
        </ng-container>

        <ng-container>
            <mat-form-field>
                <mat-label>Maximale Teilnehmer</mat-label>
                <input matInput type="number" formControlName="maxPeople">
            </mat-form-field>
        </ng-container>

    </mat-card>
</form>

<mat-card class="row-flex"
    *ngIf="topFormGrp.get('eventType').value !== null && topFormGrp.get('eventType').value === 'event2'">
    event2-container
</mat-card>

<mat-card class="row-flex"
    *ngIf="topFormGrp.get('eventType').value !== null && topFormGrp.get('eventType').value === 'event3'">
    event3-container
</mat-card>

<button color="primary" *ngIf="topFormGrp.get('eventType').value" style="margin-top: 10px; width: 100%;"
    mat-raised-button (click)="createEvent()">Event erstellen</button>